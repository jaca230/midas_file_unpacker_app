{
  "plugin_libraries": [
    "build/lib/libunpacker_data_products_nalu.so",
    "build/lib/libunpacker_stages_nalu.so"
  ],
  "pipeline": [
    {
      "id": "event_header_unpacker",
      "type": "ByteStreamToReflectedDataProductStage",
      "parameters": {
        "input_byte_stream_product_name": "bytestream_bank_AD%0",
        "root_class_name": "dataProducts::NaluEventHeader",
        "default_endianness": "little",
        "data_product_name": "NaluEventHeader"
      },
      "next": ["packet_unpacker"]
    },
    {
      "id": "packet_unpacker",
      "type": "ByteStreamProcessorRepeatingSequenceStage",
      "parameters": {
        "input_byte_stream_product_name": "bytestream_bank_AD%0",
        "repeat_count_product_name": "NaluEventHeader",
        "repeat_count_product_member": "num_packets",
        "pipeline_config": {
          "pipeline": [
            {
              "id": "packet_header_unpacker",
              "type": "ByteStreamToReflectedDataProductStage",
              "parameters": {
                "input_byte_stream_product_name": "bytestream_bank_AD%0",
                "root_class_name": "dataProducts::NaluPacketHeader",
                "default_endianness": "little",
                "data_product_name": "NaluPacketHeader"
              },
              "next": ["packet_payload_unpacker"]
            },
            {
              "id": "packet_payload_unpacker",
              "type": "ByteStreamToReflectedDataProductStage",
              "parameters": {
                "input_byte_stream_product_name": "bytestream_bank_AD%0",
                "root_class_name": "dataProducts::NaluPacketPayload",
                "default_endianness": "big",
                "data_product_name": "NaluPacketPayload"
              },
              "next": ["packet_footer_unpacker"]
            },
            {
              "id": "packet_footer_unpacker",
              "type": "ByteStreamToReflectedDataProductStage",
              "parameters": {
                "input_byte_stream_product_name": "bytestream_bank_AD%0",
                "root_class_name": "dataProducts::NaluPacketFooter",
                "default_endianness": "little",
                "data_product_name": "NaluPacketFooter"
              },
              "next": []
            }
          ]
        }
      },
      "next": ["event_footer_unpacker"]
    },
    {
      "id": "event_footer_unpacker",
      "type": "ByteStreamToReflectedDataProductStage",
      "parameters": {
        "input_byte_stream_product_name": "bytestream_bank_AD%0",
        "root_class_name": "dataProducts::NaluEventFooter",
        "default_endianness": "little",
        "data_product_name": "NaluEventFooter"
      },
      "next": ["packet_collection_former"]
    },
    {
      "id": "packet_collection_former",
      "type": "NaluPacketCollectionFormingStage",
      "parameters": {
        "header_prefix": "NaluPacketHeader",
        "payload_prefix": "NaluPacketPayload",
        "footer_prefix": "NaluPacketFooter",
        "output_product": "NaluPacketCollection"
      },
      "next": ["event_former"]
    },
    {
      "id": "event_former",
      "type": "NaluEventFormingStage",
      "parameters": {
        "header_name": "NaluEventHeader",
        "footer_name": "NaluEventFooter",
        "packet_collection": "NaluPacketCollection",
        "output_product": "NaluEvent"
      },
      "next": []
    }
  ]
}
